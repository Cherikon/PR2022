<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1><user-card></user-card></h1>

<script>
  customElements.define('user-card', class extends HTMLElement {
    connectedCallback() {
      const style = document.createElement("style");
      this.attachShadow({mode: 'open'});
      this.shadowRoot.innerHTML = `<p>
      Нажми меня
    </p>`;
      this.shadowRoot.appendChild(style);
      style.textContent = ":host-context(h1) { font-style: italic; }" +
              ":host { color: red; cursor: pointer}";
      this.shadowRoot.firstElementChild.onclick =
              e => alert("Внутренний целевой элемент: " + e.target.tagName);
    }
  });

  document.onclick =
          e => alert("Внешний целевой элемент: " + e.target.tagName);
</script>
</body>
</html>